const esbuild=require("esbuild"),path=require("path"),fs=require("fs");(async()=>{const e=path.resolve(__dirname,"node_modules/jsonresume-theme-professional/src/index.js");await esbuild.build({entryPoints:[e],bundle:!0,platform:"node",format:"cjs",target:["node16"],outfile:path.resolve(__dirname,"dist/jsonresume-theme-professional.cjs"),external:[],loader:{".js":"jsx"},banner:{js:'const React = require("react");'}}),console.log("Built dist/jsonresume-theme-professional.cjs");const s=path.resolve(__dirname,"dist/jsonresume-theme-professional");fs.existsSync(s)||fs.mkdirSync(s,{recursive:!0});const o="module.exports = require('./bundle.cjs');";fs.writeFileSync(path.join(s,"index.js"),o),fs.copyFileSync(path.resolve(__dirname,"dist/jsonresume-theme-professional.cjs"),path.join(s,"bundle.cjs"));const n={name:"jsonresume-theme-professional-local",version:"1.0.0",main:"index.js"};fs.writeFileSync(path.join(s,"package.json"),JSON.stringify(n,null,2)),console.log("Prepared dist/jsonresume-theme-professional/ as a local theme package")})()["catch"](e=>{console.error(e),process.exit(1)});